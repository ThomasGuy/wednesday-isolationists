{"version":3,"sources":["webpack:///./src/components/PictureBox.js","webpack:///./src/components/ModalBox.js","webpack:///./src/components/Modal.js","webpack:///./src/components/StickyTitle.js","webpack:///./src/components/Gallery.js"],"names":["PictureStyles","styled","div","PictureBox","fluid","alt","meta","pathname","title","artistNames","artist","subject","dimensions","includes","ImageWrapper","animated","ModalBox","Modal","closeModal","animation","pointerEvents","gallery","index","useState","idx","setIdx","pages","map","picture","style","nextPicTansition","useTransition","from","opacity","transform","enter","leave","onClick","state","length","item","animationPage","props","key","Page","ModalWrapper","on","toggle","transition","Title","isArtist","StickyTitle","className","to","split","Gallery","data","location","setIndex","isArtistPage","isSticky","setSticky","ref","useRef","useEffect","handleScroll","current","getBoundingClientRect","top","window","addEventListener","removeEventListener","imageData","allMarkdownRemark","edges","reduce","acc","bun","node","frontmatter","slug","thisGalleryFluid","allFile","id","childImageSharp","relativePath","thisGalleryModal","value","Object","values","Layout","onModalClick","defaultProps","artistQuery"],"mappings":"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","file":"component---src-components-gallery-js-6173703a78b4d398f455.js","sourcesContent":["import React from 'react';\nimport Img from 'gatsby-image';\nimport styled from 'styled-components';\nimport artistNames from '../utils/artistName';\n\nconst PictureStyles = styled.div`\n  text-align: center;\n\n  p {\n    margin-top: 0.2rem;\n    font-size: 0.8rem;\n    opacity: 0.8;\n  }\n`;\n\nconst PictureBox = ({ fluid, alt, meta, pathname }) => {\n  return (\n    <>\n      <PictureStyles>\n        <Img\n          fluid={fluid}\n          alt={alt}\n          title={`${artistNames[meta.artist]} - ${meta.subject} \\n${meta.dimensions}`}\n        />\n        {pathname.includes('artists') ? (\n          <p>{meta.subject}</p>\n        ) : (\n          <p>{`${artistNames[meta.artist]}`}</p>\n        )}\n      </PictureStyles>\n    </>\n  );\n};\n\nexport default PictureBox;\n","import React from 'react';\nimport Img from 'gatsby-image';\nimport styled from 'styled-components';\nimport { animated } from 'react-spring';\nimport artistNames from '../utils/artistName';\n\nconst ImageWrapper = styled(animated.div)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  text-align: center;\n\n  p {\n    margin-top: 0.4rem;\n    font-size: 0.8rem;\n    opacity: 0.8;\n  }\n`;\n\nconst ModalBox = ({ fluid, alt, meta }) => {\n  return (\n    <>\n      <ImageWrapper>\n        <Img fluid={fluid} alt={alt} />\n        <p>{`${artistNames[meta.artist]} - ${meta.subject}  \\n${meta.dimensions}`}</p>\n      </ImageWrapper>\n    </>\n  );\n};\n\nexport default ModalBox;\n","import React, { useState, useCallback } from 'react';\nimport { useTransition, animated } from 'react-spring';\nimport { FiX } from 'react-icons/fi';\n\nimport { ModalCard, ModalBase } from './styles';\n\nconst Modal = ({ closeModal, animation, pointerEvents, gallery, index }) => {\n  const [idx, setIdx] = useState(index);\n\n  // const onClick = useCallback(() => setIdx(state => (state + 1) % gallery.length), [\n  //   gallery.length,\n  // ]);\n\n  const onClick = () => setIdx(state => (state + 1) % gallery.length);\n\n  const pages = gallery.map(picture => ({ style }) => (\n    <animated.div style={{ ...style }}>{picture}</animated.div>\n  ));\n\n  const nextPicTansition = useTransition(idx, idx => idx, {\n    from: { opacity: 0, transform: 'translate3d(-200%,0,0) scale(0.3)' },\n    enter: { opacity: 1, transform: 'translate3d(0%,0,0) scale(1)' },\n    leave: { opacity: 0, transform: 'translate3d(50%,0,0) scale(0.5)' },\n  });\n\n  return (\n    <ModalBase style={{ pointerEvents }}>\n      <ModalCard style={animation} onClick={onClick}>\n        <div>\n          {nextPicTansition.map(({ item, props: animationPage, key }) => {\n            const Page = pages[item];\n            return <Page key={key} style={{ ...animationPage }} />;\n          })}\n        </div>\n        <button onClick={() => closeModal(false)}>\n          <FiX />\n        </button>\n      </ModalCard>\n    </ModalBase>\n  );\n};\n\nconst ModalWrapper = ({ on, toggle, gallery, index }) => {\n  const transition = useTransition(on, null, {\n    from: { opacity: 0, transform: `translate3d(0,-120px,0)` },\n    enter: { opacity: 1, transform: `translate3d(0,0,0)` },\n    leave: { opacity: 0, transform: `translate3d(0,120px,0)` },\n  });\n\n  const pointerEvents = on ? 'all' : 'none';\n  return (\n    <div>\n      {transition.map(\n        ({ item, key, props: animation }) =>\n          item && (\n            <Modal\n              gallery={gallery}\n              pointerEvents={pointerEvents}\n              animation={animation}\n              closeModal={toggle}\n              key={key}\n              index={index}\n            />\n          ),\n      )}\n    </div>\n  );\n};\n\nexport default ModalWrapper;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'gatsby';\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: baseline;\n  background: #282c34;\n  width: 100%;\n  padding-top: 1rem;\n\n  & > div {\n    text-align: center;\n    font-size: ${({ isArtist }) => (isArtist ? '1.3rem' : '1.1rem')};\n\n    @media screen and (min-width: 368px) {\n      font-size: ${({ isArtist }) => (isArtist ? '1.6rem' : '1.3rem')};\n      font-weight: 600;\n    }\n\n    @media screen and (min-width: 568px) {\n      font-size: ${({ isArtist }) => (isArtist ? '2rem' : '1.7rem')};\n    }\n\n    @media screen and (min-width: 768px) {\n      font-size: ${({ isArtist }) => (isArtist ? '2.5rem' : '2.2rem')};\n      font-weight: 900;\n    }\n\n    @media screen and (min-width: 968px) {\n      font-size: ${({ isArtist }) => (isArtist ? '3rem' : '2.8rem')};\n    }\n  }\n\n  & > a {\n    align-self: bottom;\n    padding-left: 2rem;\n    font-size: 0.7rem;\n    text-decoration: none;\n    color: lightgrey;\n\n    @media screen and (min-width: 368px) {\n      font-size: 0.8rem;\n    }\n\n    @media screen and (min-width: 768px) {\n      padding-left: 4rem;\n    }\n  }\n`;\n\nconst StickyTitle = ({ title, isArtist }) => {\n  return (\n    <Title className='sticky-inner' isArtist={isArtist}>\n      <div>{title}</div>\n\n      {isArtist && <Link to={`/biography/${title.split(' ')[0]}`}>biography</Link>}\n    </Title>\n  );\n};\n\nexport default StickyTitle;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { graphql } from 'gatsby';\n\nimport PictureBox from './PictureBox';\nimport ModalBox from './ModalBox';\nimport Layout from './Layout';\nimport Modal from './Modal';\nimport { GalleryLayout } from './styles';\nimport StickyTitle from './StickyTitle';\nimport artistNames from '../utils/artistName';\n\nconst Gallery = ({ data, location }) => {\n  const [on, toggle] = useState(false);\n  const [index, setIndex] = useState(0);\n  const [isArtistPage] = useState(location.pathname.includes('artists'));\n  const [isSticky, setSticky] = useState(false);\n  const ref = useRef(null);\n\n  // stick the Artist Title Bar to the top of the page\n  useEffect(() => {\n    const handleScroll = () => {\n      if (ref.current) {\n        setSticky(isArtistPage && ref.current.getBoundingClientRect().top <= 0);\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    return () => {\n      window.removeEventListener('scroll', () => handleScroll);\n    };\n  }, [isArtistPage]);\n\n  // Object for image metadata.. N.B. var 'bun' as in current bun\n  const imageData = data.allMarkdownRemark.edges.reduce((acc, bun) => {\n    acc[bun.node.frontmatter.slug] = bun.node.frontmatter;\n    return acc;\n  }, {});\n\n  // imaage files with metadata for this Gallery\n  const thisGalleryFluid = data.allFile.edges.map(({ node }) => {\n    return (\n      <PictureBox\n        key={node.id}\n        fluid={node.childImageSharp.fluid}\n        alt={node.relativePath.split('.')[0]}\n        pathname={location.pathname}\n        meta={imageData[node.relativePath]}\n      />\n    );\n  });\n\n  // imaage files without metadata for this Gallery modal\n  const thisGalleryModal = data.allFile.edges.map(({ node }) => {\n    return (\n      <ModalBox\n        key={node.id}\n        fluid={node.childImageSharp.fluid}\n        alt={node.relativePath.split('.')[0]}\n        meta={imageData[node.relativePath]}\n      />\n    );\n  });\n\n  // modal event handler\n  const onModalClick = idx => {\n    setIndex(idx);\n    toggle(true);\n  };\n\n  // render gallery\n  const renderGallery = () => {\n    return thisGalleryFluid.map((picture, idx) => {\n      return (\n        <div key={picture.key} onClick={() => onModalClick(idx)}>\n          {picture}\n        </div>\n      );\n    });\n  };\n\n  // render title\n  const title = () => {\n    const value = Object.values(imageData)[0];\n    return isArtistPage ? artistNames[value.artist] : value.subject;\n  };\n\n  return (\n    <Layout title={title()}>\n      <div className={`sticky-wrapper${isSticky ? ' sticky' : ''}`} ref={ref}>\n        <StickyTitle title={title()} isArtist={isArtistPage} />\n      </div>\n\n      {!on && <GalleryLayout>{renderGallery()}</GalleryLayout>}\n\n      <Modal on={on} toggle={toggle} gallery={thisGalleryModal} index={index} />\n    </Layout>\n  );\n};\n\n// props\nGallery.defaultProps = {\n  location: {},\n};\n\nexport default Gallery;\n// Note 'slugs' here is an array of 'relativePath'\nexport const artistQuery = graphql`\n  query galleryQuery($slugs: [String!]!) {\n    allFile(\n      filter: { relativePath: { in: $slugs } }\n      sort: { fields: childImageSharp___fluid___aspectRatio, order: DESC }\n    ) {\n      edges {\n        node {\n          relativePath\n          childImageSharp {\n            fluid(maxWidth: 350) {\n              ...GatsbyImageSharpFluid\n            }\n          }\n          id\n        }\n      }\n    }\n    allMarkdownRemark(filter: { frontmatter: { slug: { in: $slugs } } }) {\n      edges {\n        node {\n          frontmatter {\n            artist\n            dimensions\n            subject\n            slug\n            date\n            week\n          }\n        }\n      }\n    }\n  }\n`;\n"],"sourceRoot":""}